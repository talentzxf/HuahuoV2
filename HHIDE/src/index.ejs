<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title><%= htmlWebpackPlugin.options.title %></title>

    <meta http-equiv="origin-trial"
          content="AmxZciPdpJUcdbpyYJ4xd/E/EpTvWbDvlwXHAe2fWLbMNT6J8joUYT5NovrGURyIsARrdVmkF763yhUkuzGTqwkAAABJeyJvcmlnaW4iOiJodHRwOi8vMTI3LjAuMC4xOjg5ODkiLCJmZWF0dXJlIjoiV2ViR1BVIiwiZXhwaXJ5IjoxNjkxNzExOTk5fQ==">
    <meta http-equiv="origin-trial" content="AlEK79kzQH3fq96fJbxPL6b8K95REaaTDyVjIkqXmTcDIFzg9I5W+YAreHnYPe4YtJEJR4I/X7Qxzq22uh341wEAAABkeyJvcmlnaW4iOiJodHRwczovL3d3dy5odWFodW8ub25saW5lOjQ0MyIsImZlYXR1cmUiOiJXZWJHUFUiLCJleHBpcnkiOjE2OTE3MTE5OTksImlzU3ViZG9tYWluIjp0cnVlfQ==">

    <link rel="stylesheet" type="text/css" href="static/litegraph.css">

    <style>
        html, body, .viewport {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            overflow-y: hidden;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Scale canvas with resize attribute to full size */
        canvas[resize] {
            width: 100%;
            height: 100%;
        }
    </style>

</head>
<body>
<div id="loading">
    Loading...
</div>

<div id="mainSceneDiv" style="width: 100%; height: 100%; display: none">
    <rgba-color-picker></rgba-color-picker>
    <hh-container id="outmost_container" translateAll='true' hide="true">
        <hh-container direction="row" size="fit-content" hasSplitter="false" style="border: 1px solid blue">
            <div style="width: 25%">
                <hh-tool-bar></hh-tool-bar>
            </div>
            <div style="width: 25%">
                <hh-editor-tool-bar></hh-editor-tool-bar>
            </div>
            <div style="width: 50%">
                <hh-player-controller/>
            </div>
            <div style="display: flex; width:50%; flex-direction: row-reverse">
                <hh-userinfo-bar></hh-userinfo-bar>
            </div>
        </hh-container>

        <hh-sidebar initDockStatus="right-top" allowedDockDirection = "top,bottom">
            <hh-sidebar-content title="Tools">
                <hh-draw-toolbar></hh-draw-toolbar>
            </hh-sidebar-content>
        </hh-sidebar>

        <hh-sidebar initDockStatus="left-top">
            <hh-sidebar-content title="Properties">
                <hh-inspector></hh-inspector>
            </hh-sidebar-content>
        </hh-sidebar>

        <hh-sidebar initDockStatus="right-bottom">
            <hh-sidebar-content title="HistoryCommands">
                <hh-history-commands></hh-history-commands>
            </hh-sidebar-content>
        </hh-sidebar>

        <hh-container direction="column">
            <hh-container direction="row">
                    <hh-panel content-style="flex-basis:100%; display:flex; align-items: stretch">
                        <hh-content closable="false" title="scene" style="width:85%; height:100%; flex-basis:100%; align-items: stretch">
                            <hh-sceneview id="mainScene" style="flex-basis:100%; display:flex; align-items: stretch"></hh-sceneview>
                        </hh-content>
    <!--                    <hh-content title="Game">Game Content</hh-content>-->
                    </hh-panel>
            </hh-container>
<!--            <hh-container direction="row" style="height:10%">-->
<!--                <hh-panel>-->
<!--                    <hh-content title="logs" style="width:100%; height:100%">-->
<!--                        <textarea id="stdout" style="height:100%;width: 100%;resize:none;box-sizing:border-box;overflow-y:auto;overflow-x:auto;" disabled></textarea>-->
<!--                    </hh-content>-->
<!--                </hh-panel>-->
<!--            </hh-container>-->
        </hh-container>
        <div style="width: 100%; display: flex; height: 20px">
            <div id="promptBar" style="display: flex; flex-direction: row; background-color: lightgrey; width: 100%">
                <span id="promptBarSpan">  </span>
            </div>
            <div id="statusBar" style="display: flex; flex-direction: row-reverse; background-color: lightgrey; width: 100%">
                <span id="statusBarSpan"> Mouse Position </span>
            </div>
        </div>
    </hh-container>
</div>

    <script lang="text/javascript">
        var Module = {
            print: (function outputLog() {
                var element = document.getElementById('stdout');
                if (element) element.value = ''; // clear browser cache
                return function (text) {
                    if (arguments.length > 1) text = Array.prototype.slice.call(arguments).join(' ');
                    // These replacements are necessary if you render to raw HTML
                    //text = text.replace(/&/g, "&amp;");
                    //text = text.replace(/</g, "&lt;");
                    //text = text.replace(/>/g, "&gt;");
                    //text = text.replace('\n', '<br>', 'g');
                    console.log(text);
                    if (element) {
                        element.value += text + "\n";
                        element.scrollTop = element.scrollHeight; // focus on bottom
                    }
                };
            })()
        }

        window.onerror = function(event) {
            console.error(event)
        };
    </script>
    <script async type="text/javascript" src="wasm/HuaHuoEngineV2.js"></script>
    <!--<div style="display: flex; flex-direction: column;width: 100%; height:100%">-->
    <!--  <hh-panel>-->
    <!--    <hh-content title="Tab 1-1">Content 1-1</hh-content>-->
    <!--    <hh-content title="Tab 1-2">Content 1-2</hh-content>-->
    <!--    <hh-content title="Tab 1-3">Content 1-3</hh-content>-->
    <!--  </hh-panel>-->
    <!--  <hh-panel>-->
    <!--    <hh-content title="Tab 2-1">Content 2-1</hh-content>-->
    <!--    <hh-content title="Tab 2-2">Content 2-2</hh-content>-->
    <!--    <hh-content title="Tab 2-3">Content 2-3</hh-content>-->
    <!--  </hh-panel>-->
    <!--  <hh-panel>-->
    <!--    <hh-content title="Tab 3-1">Content 3-1</hh-content>-->
    <!--    <hh-content title="Tab 3-2">Content 3-2</hh-content>-->
    <!--    <hh-content title="Tab 3-3">Content 3-3</hh-content>-->
    <!--  </hh-panel>-->
    <!--</div>-->
</body>
</html>